db_path,db_id,tbl_name,test_category,sql_tag,query,question,rem_col
data/db_music.sqlite,db,albums,FUNCTIONS,UDF-EXTRACT-YEAR,SELECT DISTINCT extract_year(T1.`release_date (dd-mm-yyyy)`) AS release_year FROM `albums` AS T1 ORDER BY release_year ASC LIMIT 5,"From the `albums` table (T1), extract the year from the `release_date (dd-mm-yyyy)` column and alias this new column as `release_year`. Find all unique (distinct) values for `release_year`. Sort these unique years in ascending order and return the top 5.",release_date (dd-mm-yyyy)
data/db_music.sqlite,db,albums,FUNCTIONS,UDF-EXTRACT-MONTH,SELECT DISTINCT extract_month(T1.`release_date (dd-mm-yyyy)`) AS release_month FROM `albums` AS T1 ORDER BY release_month ASC LIMIT 5,"From the `albums` table (T1), for each row, extract the month from the `release_date (dd-mm-yyyy)` column and name it `release_month`. Filter the results to get only the unique month values. Sort these months in ascending order and return the top 5.",release_date (dd-mm-yyyy)
data/db_music.sqlite,db,albums,FUNCTIONS,UDF-EXTRACT-DAY,SELECT DISTINCT extract_day(T1.`release_date (dd-mm-yyyy)`) AS release_day FROM `albums` AS T1 ORDER BY release_day ASC LIMIT 5,"From the `albums` table (T1), extract the day from the `release_date (dd-mm-yyyy)` column, aliasing it as `release_day`. Select only the distinct day values. Sort these unique days in ascending order and return the top 5.",release_date (dd-mm-yyyy)
data/db_music.sqlite,db,artists,FUNCTIONS,UDF-NAME-FIRST,SELECT extract_first_name(T1.`name`) AS fname FROM `artists` AS T1 ORDER BY fname ASC LIMIT 5,"From the `artists` table (T1), for each artist, extract the first name from the `name` column and assign the result to the alias `fname`. Sort the results alphabetically by `fname` in ascending order and return the top 5 names.",name
data/db_music.sqlite,db,artists,FUNCTIONS,UDF-NAME-LAST,SELECT extract_last_name(T1.`name`) AS lname FROM `artists` AS T1 ORDER BY lname DESC LIMIT 5,"From the `artists` table (T1), extract the last name from the `name` column and call it `lname`. Sort the results in reverse alphabetical order (descending) by `lname` and return the top 5 last names.",name
data/db_music.sqlite,db,tracks,FUNCTIONS,UDF-LENGTH,SELECT LENGTH(T1.`title`) AS title_len FROM `tracks` AS T1 ORDER BY title_len DESC LIMIT 5,"For each track in the `tracks` table (T1), calculate the length (number of characters) of the `title` column and assign the result to the alias `title_len`. Sort these lengths in descending order and return the 5 largest ones.",title
data/db_music.sqlite,db,tracks,FUNCTIONS,UDF-UPPER,SELECT UPPER(T1.`title`) AS upper_title FROM `tracks` AS T1 ORDER BY upper_title ASC LIMIT 5,"From the `tracks` table (T1), convert the text in the `title` column to uppercase and assign the result to the alias `upper_title`. Sort the results alphabetically in ascending order and return the top 5 uppercase titles.",title
data/db_music.sqlite,db,tracks,FUNCTIONS,UDF-LOWER,SELECT LOWER(T1.`isrc`) AS isrc_lower FROM `tracks` AS T1 WHERE isrc IS NOT NULL ORDER BY isrc_lower ASC LIMIT 5,"From the `tracks` table (T1), consider only rows where `isrc` is not null. Convert the value of the `isrc` column to lowercase, aliasing it as `isrc_lower`. Sort the results alphabetically and return the top 5.",isrc
data/db_music.sqlite,db,tracks,AGGREGATE,AGG-AVG,SELECT AVG(T1.`spotify_popularity`) AS avg_popularity FROM `tracks` AS T1,"From the `tracks` table (T1), calculate the average value of the `spotify_popularity` column across all rows. Return this single value with the alias `avg_popularity`.",spotify_popularity
data/db_music.sqlite,db,tracks,AGGREGATE,AGG-SUM,SELECT SUM(T1.`spotify_streams`) AS total_streams FROM `tracks` AS T1,"Calculate the total sum of all values in the `spotify_streams` column of the `tracks` table (T1). Return the result as `total_streams`.",spotify_streams
data/db_music.sqlite,db,tracks,AGGREGATE,AGG-MAX,SELECT MAX(T1.`youtube_views`) AS max_views FROM `tracks` AS T1,"Find the maximum value in the `youtube_views` column within the `tracks` table (T1). Return this highest value with the alias `max_views`.",youtube_views
data/db_music.sqlite,db,tracks,AGGREGATE,AGG-MIN,SELECT MIN(T1.`track_score`) AS min_score FROM `tracks` AS T1,"Identify the minimum value in the `track_score` column of the `tracks` table (T1). Return this lowest value, naming it `min_score`.",track_score
data/db_music.sqlite,db,tracks,AGGREGATE,AGG-COUNT,"SELECT album_id, COUNT(*) AS total_tracks FROM tracks AS T1 GROUP BY album_id;","Count the total number of tracks in each album from the tracks table (T1) and return this count with the alias total_tracks, grouping the results by album_id.",album_id
data/db_music.sqlite,db,albums,AGGREGATE,AGG-COUNT-DISTINCT,SELECT COUNT(DISTINCT T1.`artist_id`) AS distinct_artists FROM `albums` AS T1,"From the `albums` table (T1), count the number of unique (distinct) values present in the `artist_id` column. Return this count as `distinct_artists`.",artist_id
data/db_music.sqlite,db,tracks,JOIN-FUNCTIONS,UDF-EXTRACT-YEAR,"SELECT extract_year(T2.`release_date (dd-mm-yyyy)`) AS rel_year, COUNT(*) FROM `tracks` AS T1 JOIN `albums` AS T2 ON T1.`album_id`=T2.`album_id` GROUP BY rel_year ORDER BY rel_year ASC","Join `tracks` (T1) and `albums` (T2) on `album_id`. For each track, extract the release year from the album's date and call it `rel_year`. Group the rows by `rel_year`. For each group (year), count the number of tracks. Finally, order the groups by year in ascending order.",release_date (dd-mm-yyyy)
data/db_music.sqlite,db,tracks,JOIN-FUNCTIONS,UDF-EXTRACT-MONTH,"SELECT extract_month(T2.`release_date (dd-mm-yyyy)`) AS rel_month, SUM(T1.`spotify_streams`) AS tot_stream FROM `tracks` AS T1 JOIN `albums` AS T2 ON T1.`album_id`=T2.`album_id` GROUP BY rel_month ORDER BY tot_stream ASC","Join the `tracks` and `albums` tables on `album_id`. Extract the month from the album's release date and call it `rel_month`. Group the rows by `rel_month`. For each month, calculate the total sum of `spotify_streams`. Order the results by total streams in ascending order. and return only 'rel_month' and 'tot_stream' columns.",release_date (dd-mm-yyyy)
data/db_music.sqlite,db,artists,FUNCTIONS,UDF-SUBSTR,"SELECT SUBSTR(T1.`name`,1,3) AS name_prefix FROM `artists` AS T1 ORDER BY name_prefix ASC LIMIT 5","From the `artists` table (T1), for each name in the `name` column, extract the first 3 characters and assign the result to the alias `name_prefix`. Order these prefixes in ascending alphabetical order and return the top 5.",name
